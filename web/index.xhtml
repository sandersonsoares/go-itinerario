<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>GO. Itinerário</title>

        <!--JQuery-->
        <script type="text/javascript" src="//code.jquery.com/jquery-2.1.4.js"></script>

        <!--Css-->
        <link rel="stylesheet" type="text/css" href="resources/css/materialize.css" />
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
        <link rel="stylesheet" type="text/css" href="resources/css/style.css" />

        <!--JavaScripts-->
        <script type="text/javascript" src="resources/js/materialize.min.js"></script>
        <script src="resources/js/font-awesome.js"></script>
        <script type="text/javascript" src="resources/js/scripts.js"></script>

    </h:head>
    <h:body id="login">

        <div class="row">
            <div class="col s12 m6 offset-m3 l4 offset-l4" style="margin-top: 20vh">
                <div class="card hoverable">
                    <h:form>
                        <div class="card-content">
                            <p class="card-title bold">Login</p>

                            <div class="card-action">
                                <div class="row">
                                    <p:messages id="growl" showDetail="false" autoUpdate="true" /> 
                                    <div class="input-field col s12">
                                        <p:inputText id="j_username" value="#{requestBean.user}" required="true" requiredMessage="O campo de usuário está vazio!"/>                            
                                        <label for="j_username" >Nome de Usuário ou Email</label>
                                    </div>

                                    <div class="input-field col s12">
                                        <p:password id="j_password" class="form-control" value="#{requestBean.senha}" required="true" requiredMessage="O campo de senha está vazio!" />
                                        <label for="j_password">Senha</label>
                                    </div>

                                </div>
                                <div class="row">
                                    <p class="right">
                                        <a href="#">Esqueci minha senha</a>
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="card-action row">
                            <p:commandButton id="btn-entrar" value="Login" action="#{requestBean.login()}" class="btn waves-effect waves-light col s12" ajax="false" />

                            <p:outputPanel>
                                <f:metadata>  
                                    <f:event type="preRenderView" listener="#{loginBean.mostrarErro(param['i'])}"/>  
                                </f:metadata> 
                            </p:outputPanel>

                            <p:defaultCommand target="btn-entrar" />
                        </div>
                    </h:form>
                </div>
            </div>
        </div>

    </h:body>
</html>